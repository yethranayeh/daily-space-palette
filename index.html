<!-- @format -->

<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
			crossorigin="anonymous"
		/>

		<!-- Bootstrap Icons -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css" />

		<!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@100;300;700&display=swap" rel="stylesheet" />

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-53G6MNZZQV"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() {
				dataLayer.push(arguments);
			}
			gtag("js", new Date());

			gtag("config", "G-53G6MNZZQV");
		</script>
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/spicy_link.css" />
		<link rel="stylesheet" href="css/background.css" />

		<!-- Alpine Collapse Plugin -->
		<script defer src="https://unpkg.com/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>

		<!-- Alpine JS Core -->
		<script defer src="https://unpkg.com/alpinejs@3.4.2/dist/cdn.min.js"></script>

		<title>Daily Space Palette</title>
	</head>
	<body class="text-light">
		<!-- Background -->

		<!-- Main -->
		<div class="container frame">
			<!-- Start: Page title -->
			<div class="text-center my-1 my-md-2 py-5">
				<div class="mb-4 project-title">Daily Space Palette</div>

				<!-- Title Shadow Multiplier -->
				<script>
					let projectTitle = document.getElementsByClassName("project-title")[0];
					let projectTitle_shadow = "";
					for (let i = 0; i < 5; i++) {
						projectTitle_shadow +=
							(projectTitle_shadow ? "," : "") +
							i * 1 +
							"px " +
							i * 1 +
							`px 3px rgb(${255 - i * 45}, ${55 - i * 10}, ${255 - i})`;
					}
					projectTitle.style.textShadow = projectTitle_shadow;
				</script>
				<span class="fs-4 mx-2" style="font-family: 'Josefin Sans', sans-serif; font-weight: 300"
					>Your daily dose of palette(s) generated from the colors of NASA's current
					<a class="link link-light spicy-link" href="https://apod.nasa.gov/apod/astropix.html" target="_blank"
						>Astronomy Picture of the Day</a
					>
				</span>
			</div>
			<!-- End: Page title -->
			<!-- Start: Fetching Data Info -->
			<div id="fetching-info" class="text-center">
				<div class="spinner-border" role="status">
					<span class="sr-only invisible">Loading...</span>
				</div>
				<span class="ms-2 lead text-center">Fetching data...</span>
			</div>
			<!-- End: Fetching Data Info -->
			<!-- Start: Image section -->
			<section id="image-section" class="row d-none">
				<!-- Title, Copyright, Date -->
				<div class="col-md-12 text-center mt-5">
					<h2 id="title">Image Title</h2>
				</div>
				<hr class="mx-auto border border-1 border-white rounded w-25 my-2" style="box-shadow: 1px 1px 5px" />
				<div class="col-md-12 text-center mb-4">
					<h3 id="copyright">Copyright</h3>
					<span id="date" class="fs-6">Date</span>
				</div>

				<!-- Image -->
				<div class="col-md-12">
					<img
						id="picture"
						class="mx-auto img-thumbnail img-fluid d-block"
						src="#"
						alt="Astronomy Picture of the Day"
					/>
				</div>

				<!-- Description -->
				<div class="col-md-12 mt-4" x-data="{ expanded: true }">
					<div class="row">
						<div class="col-3" @click="expanded = ! expanded">
							<span class="h2 text-truncate mb-0" style="font-family: 'Josefin Sans', sans-serif; font-weight: 300"
								>Description
								<!-- Chevron Icon -->
								<i
									x-bind:class="expanded ? '' : ' rotate-180'"
									class="bi bi-chevron-down text-light d-inline-block"
									style="pointer-events: auto"
								></i>
							</span>
						</div>
					</div>

					<p id="description" class="lead mt-2" x-show="expanded" x-collapse>Image description...</p>
				</div>
			</section>
			<!-- End: Image section -->
			<!-- Start: Palette section -->
			<section id="palette-section" class="col-12 mt-5 py-5 d-none">
				<h2 class="text-center" style="font-family: 'Josefin Sans', sans-serif; font-weight: 700">Palettes</h2>
				<div id="palettes" class="row"></div>
			</section>
			<!-- End: Palette section -->
		</div>
		<!-- End: Main -->

		<!-- Bootstrap Bundle with Popper -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
			crossorigin="anonymous"
		></script>

		<!-- Handle APOD API to serve image and info -->
		<script src="js/astro.js"></script>

		<!-- vibrant.js to extract color info from image -->
		<script src="js/vibrant.js"></script>

		<!-- Generate palettes from the colors extracted with vibrant.js -->
		<script src="js/generate_palette.js"></script>
	</body>
</html>
